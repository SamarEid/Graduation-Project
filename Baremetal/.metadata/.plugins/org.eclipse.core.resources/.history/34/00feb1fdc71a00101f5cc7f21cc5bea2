/*
 * trnsmission.c
 *
 *  Created on: ??þ/??þ/????
 *      Author: ASHRY
 */
#include "stm32f4xx_hal.h"
#include "stm32f4xx_hal_spi.h"
#include "../typesdefinition/typedefinitions.h"
#include "../formatter/serialization.h"
#include "./transmission.h"
extern SPI_HandleTypeDef hspi2;
void transmissionVidSendSensorData(sensorTypeDef*sensorData){
	uint8_t* serialData = serializeSensorData(sensorData);
	uint8_t arr[] = {*(serialData),*(serialData+1),*(serialData+2),*(serialData+3)};
	HAL_SPI_Transmit(&hspi2, serialData, SENSOR_DATA_SIZE, HAL_MAX_DELAY);
}
void transmissionVidSendSingleValue(uint8_t value){
	uint8_t val = value;
	HAL_SPI_Transmit(&hspi2, &val, 1 , HAL_MAX_DELAY);
}
void transmissionVidSendStart(){
	transmissionVidSendSingleValue(START_FRAME);

}
void transmissionVidSendEnd(){
	transmissionVidSendSingleValue(END_FRAME);

}
